jQuery(document).ready(function($){$('#country_search').chosen({placeholder_text_single:"Выберите страну",no_results_text:"Ничего не найдено",allow_single_deselect:true});$('#city_search').chosen({placeholder_text_single:"Выберите город",no_results_text:"Ничего не найдено",allow_single_deselect:true});$('#category_search').chosen({placeholder_text_single:"Выберите категорию",no_results_text:"Ничего не найдено",allow_single_deselect:true});$('#county_search').chosen({placeholder_text_single:"Выберите округ",no_results_text:"Ничего не найдено",allow_single_deselect:true});$('#metro_search').chosen({placeholder_text_single:"Выберите метро",no_results_text:"Ничего не найдено",allow_single_deselect:true});$('#country_search').change(function(){var country_id=$(this).val();$('#city_search').empty().trigger("chosen:updated");$('#county_search').empty().trigger("chosen:updated");$('#metro_search').empty().trigger("chosen:updated");if(country_id){$.ajax({type:'POST',url:ajax_object.ajax_url,data:{action:'getcitys',id:country_id,cache:false,only_has:true,},success:function(data){$('#city_search').append(data).trigger("chosen:updated");$('#city_search').trigger('change');},error:function(response){console.log(response);},dataType:'json'});}});$('#city_search').change(function(){var city_id=$(this).val();$('#county_search').empty();$('#metro_search').empty();$.ajax({type:'POST',url:ajax_object.ajax_url,data:{action:'getcounty',id:city_id,cache:false,only_has:true},success:function(data){$('#county_search').append(data).trigger("chosen:updated");},error:function(response){console.log(response);},dataType:'json'});$.ajax({type:'POST',url:ajax_object.ajax_url,data:{action:'getmetro',id:city_id,only_has:true},success:function(data){$('#metro_search').append(data).trigger("chosen:updated");},error:function(response){console.log(response);},dataType:'json'});});$('#county_search').change(function(){return
var county_id=$(this).val();county_id=false;$('#metro_search').empty().trigger("chosen:updated");if(county_id)
{$.ajax({type:'POST',url:ajax_object.ajax_url,data:{action:'getmetrocounty',id:county_id,cache:false,only_has:true},success:function(data){$('#metro_search').append(data).trigger("chosen:updated");},error:function(response){console.log(response);},dataType:'json'});}else{$.ajax({type:'POST',url:ajax_object.ajax_url,data:{action:'getmetro',id:$('#city_search').val(),cache:false,only_has:true},success:function(data){$('#metro_search').append(data).trigger("chosen:updated");},error:function(response){console.log(response);},dataType:'json'});}});});